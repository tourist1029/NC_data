R0 = 200; 刀具直径
R1 = 10; 刀具底脚半径

R2 = 200; 圆柱直径
R3 = 199; 内线直径
R4 = 20; 内陷处圆角半径
R5 = 30; 接斜线角度
R6 = 20; 底根部圆角
R7 = 60; 底部至内凹陷圆弧最低点处距离

R10 = 1; 等弧长步距，等线段步距

R0 = R0 /2;
R2 = R2 / 2;
R3 = R3 / 2;

R40 = ACOS(1-(R2-R3)/R4);第一阶段角度范围(角度)
R50 = (ACOS(1-((R2-R3)/R4))*3.1415926535)/180;第一阶段角度范围(弧度)
R51 = (R5*3.1415926535)/180;第二阶段角度范围(弧度)
R55 = TRUNC(R4*(R50+R51)/R10);取整按设置等圆弧长度求出的段数
R56 = (R40+R5)/R55;重新计算步距(角度值)
R68 = R56
R69 = R10

R60 = R1*COS(R40)+R2;起始点刀尖圆心X坐标
R61 = (R4-R1)*SIN(R40)+R7;起始点刀尖圆心Z坐标

R70 = (R7-R4*SIN(R5)-(R6-R6*SIN(R5)))/COS(R5);计算的斜线段的总长度，用于判断斜线切削循环
R71 = (90-R5)*3.1415926/180;根部圆角对应弧度值
R72 = TRUNC(R6*((90-R5)*3.1415926/180)/R10);根部圆弧按步距取整的段数
R73 = (90-R5)/R72;重新计算的新的步距对应的角度值
R74 = R73
R76 = R3+(R4-R4*COS(R5))+R70*SIN(R5)+R1*COS(R5)+(R0-R1);根部圆弧起点X坐标(刀心)
R77 = R6-R6*SIN(R5)+R1*SIN(R5)-R1;根部圆弧起点Z坐标(刀心)


G54 G64 G94
M06 T="D200R10"
M03 S600 F800
G0 X=R60+((R4-R1)*COS(R40)-(R4-R1)*COS(R40+R56))+(R0-R1)+30  Y=0 Z=R61+((R4-R1)*SIN(R40+R56)-(R4-R1)*SIN(R40))-R1 
G01 X=R60+((R4-R1)*COS(R40)-(R4-R1)*COS(R40+R56))+(R0-R1)
G02 X=R60+(R0-R1) Z=R61-R1 CR=R4
G02 X=R60+(R0-R1) Y=0 I=AC(0) J=AC(0)

AA0:
IF R68==R40 GOTOF AA2
G02 X=R60+(R0-R1)-(((R4-R1)*COS(R40-R68))-(R4-R1)*COS(R40)) Z=R61-R1-(((R4-R1)*SIN(R40))-(R4-R1)*SIN(R40-R68)) CR=R4
G02 X=R60+(R0-R1)-(((R4-R1)*COS(R40-R68))-(R4-R1)*COS(R40)) Y=0 I=AC(0) J=AC(0)
R68 = R68+R56
IF (R68-R40)<0 AND (R68+R56-R40)<0 GOTOB AA0
IF (R68-R40)<0 AND (R68+R56-R40)>0 GOTOF MARK1
MARK1:
G02 X=R3+R1+(R0-R1) Z=R7-R1 CR=R4
G02 X=R3+R1+(R0-R1) Y=0 I=AC(0) J=AC(0)
R68=R56
 
AA2:
IF R68 == R5 GOTOF AA3
G02 X=R3+R1+(R0-R1)+((R4-R1)-((R4-R1)*COS(R68))) Z=R7-(R4-R1)*SIN(R68)-R1 CR=R4
G02 X=R3+R1+(R0-R1)+((R4-R1)-((R4-R1)*COS(R68))) Y=0 I=AC(0) J=AC(0)
R68 = R68 + R56
IF R68-R5<0 AND R68+R56-R5<0 GOTOB AA2
IF R68-R5<0 AND R68+R56-R5>0 GOTOF MARK2
MARK2:
G02 X=R4+R3-(R4-R1)*COS(R5)+(R0-R1) Z=R7-(R4-R1)*SIN(R5)-R1 CR=R4
G02 X=R4+R3-(R4-R1)*COS(R5)+(R0-R1) Y=0 I=AC(0) J=AC(0)

AA3:
IF R69 == R70 GOTOF AA4
G01 X=R4+R3-(R4-R1)*COS(R5)+(R0-R1)+R69*SIN(R5) Z=R7-(R4-R1)*SIN(R5)-R1-R69*COS(R5)
G02 X=R4+R3-(R4-R1)*COS(R5)+(R0-R1)+R69*SIN(R5) Y=0 I=AC(0) J=AC(0)
R69 = R69 + R10
IF R69 < R70 AND (R69+R10-R70)<0 GOTOB AA3
IF R69 < R70 AND (R69+R10-R70)>0 GOTOF MARK3
MARK3:
G01 X=R76 Z=R77
G02 X=R76 Y=0 I=AC(0) J=(0)

AA4:
IF R74 == 90-R5 GOTOF AA5
G02 X=R76+((R6-R1)*SIN(90-R5)-(R6-R1)*SIN(90-R5-R74)) Z=R77-((R6-R1)*COS(90-R5-R74)-(R6-R1)*COS(90-R5)) CR=R6
G02 X=R76+((R6-R1)*SIN(90-R5)-(R6-R1)*SIN(90-R5-R74)) Y=0 I=AC(0) J=AC(0)
R74 = R74 + R73
IF R74 < 90-R5 AND R74+R73-(90-R5)<0 GOTOB AA4
IF R74 < 90-R5 AND R74+R73-(90-R5)>0 GOTOB MARK4
MARK4:
G02 X=R76+R6*SIN(90-R5) Z=0 CR=R6
AA5:
G01 Y=0 Z=30
G01 X=R76+R6*COS(R5)+80
M05 
M30
